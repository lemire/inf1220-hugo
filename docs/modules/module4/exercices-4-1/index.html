<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Exercices sur les flux
  #


  Questions/réponses
  #

Veuillez répondre mentalement, sur papier ou en créant le code nécessaire pour répondre à ces questions avant de regarder la réponse.
Certaines questions sont difficiles, et il est normal de ne pas toutes les réussir.

N&rsquo;oubliez pas d&rsquo;utiliser notre pense-bête Java au besoin. Pour les mathématiques,
vous pouvez faire référence à notre rappel sur les principales notions mathématiques du cours.

Si vous ne faites pas honnêtement les exercices et les lectures dans ce cours, il est possible que vous n’arriviez pas à faire les travaux notés et les examens."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/inf1220-hugo/docs/modules/module4/exercices-4-1/"><meta property="og:site_name" content="INF 1220 - Introduction à la programmation"><meta property="og:title" content="Exercices sur les flux"><meta property="og:description" content="Exercices sur les flux # Questions/réponses # Veuillez répondre mentalement, sur papier ou en créant le code nécessaire pour répondre à ces questions avant de regarder la réponse. Certaines questions sont difficiles, et il est normal de ne pas toutes les réussir.
N’oubliez pas d’utiliser notre pense-bête Java au besoin. Pour les mathématiques, vous pouvez faire référence à notre rappel sur les principales notions mathématiques du cours.
Si vous ne faites pas honnêtement les exercices et les lectures dans ce cours, il est possible que vous n’arriviez pas à faire les travaux notés et les examens."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Exercices sur les flux | INF 1220 - Introduction à la programmation</title><link rel=icon href=/inf1220-hugo/favicon.png><link rel=manifest href=/inf1220-hugo/manifest.json><link rel=canonical href=https://lemire.github.io/inf1220-hugo/docs/modules/module4/exercices-4-1/><link rel=stylesheet href=/inf1220-hugo/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/inf1220-hugo/fuse.min.js></script><script defer src=/inf1220-hugo/fr.search.min.f1c47af920e092bf6af3df1e367d09b75db9b27da89d21e13d37f958a06815a4.js integrity="sha256-8cR6+SDgkr9q898eNn0Jt125sn2onSHhPTf5WKBoFaQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/inf1220-hugo/><img src=/inf1220-hugo/livre.jpg alt=Logo class=book-icon><span>INF 1220 - Introduction à la programmation</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/inf1220-hugo/docs/environnement/>Programmation Java en ligne</a></li><li><a href=/inf1220-hugo/docs/format/>Formattage du code Java</a></li><li><a href=/inf1220-hugo/docs/erreurs/>Vous avez trouvé une erreur?</a></li><li><a href=/inf1220-hugo/docs/modules/>Modules</a><ul><li><input type=checkbox id=section-6ffbdc93c5edebe8ae6289c754c6323e class=toggle>
<label for=section-6ffbdc93c5edebe8ae6289c754c6323e class=flex><a href=/inf1220-hugo/docs/modules/module1/ class=flex-auto>Module 1: Algorithme et pseudocode</a></label><ul><li><a href=/inf1220-hugo/docs/modules/module1/teluq/>Modèle du cours</a></li><li><a href=/inf1220-hugo/docs/modules/module1/robot/>Robot conversationnel et intelligence artificielle</a></li><li><a href=/inf1220-hugo/docs/modules/module1/autoevaluation/>Autoévaluation</a></li><li><a href=/inf1220-hugo/docs/modules/module1/pasapas/>Java pas à pas</a></li><li><a href=/inf1220-hugo/docs/modules/module1/ordinateurs/>Les ordinateurs et leurs langages</a></li><li><a href=/inf1220-hugo/docs/modules/module1/algorithmes/>Les algorithmes</a></li><li><a href=/inf1220-hugo/docs/modules/module1/algorithmes2/>Les algorithmes : conception et syntaxe</a></li><li><a href=/inf1220-hugo/docs/modules/module1/algorithmes3/>Les algorithmes: les structures de contrôle</a></li><li><a href=/inf1220-hugo/docs/modules/module1/difficile/>Les problèmes difficiles</a></li><li><a href=/inf1220-hugo/docs/modules/module1/complex/>Complexité algorithmique</a></li><li><a href=/inf1220-hugo/docs/modules/module1/erreurs/>Les erreurs communes</a></li><li><a href=/inf1220-hugo/docs/modules/module1/syntaxe/>Présentation du pseudocode</a></li><li><a href=/inf1220-hugo/docs/modules/module1/exercices/>Exercices sur les algorithmes</a></li><li><a href=/inf1220-hugo/docs/modules/module1/travail-note-1/>Travail noté 1</a></li></ul></li><li><input type=checkbox id=section-71b9dfc90da9a83f173743029715be7a class=toggle>
<label for=section-71b9dfc90da9a83f173743029715be7a class=flex><a href=/inf1220-hugo/docs/modules/module2/ class=flex-auto>Module 2: Introduction au langage Java</a></label><ul><li><a href=/inf1220-hugo/docs/modules/module2/preparation/>Préparation de l’espace de travail</a></li><li><a href=/inf1220-hugo/docs/modules/module2/pasapas/>Java pas à pas</a></li><li><a href=/inf1220-hugo/docs/modules/module2/oriente/>Création d'une classe en Java</a></li><li><a href=/inf1220-hugo/docs/modules/module2/typeoperateur/>Introduction aux types de base et à leurs opérateurs</a></li><li><a href=/inf1220-hugo/docs/modules/module2/exercices-2-1/>Exercices sur les classes, les variables, les types et les opérateurs</a></li><li><a href=/inf1220-hugo/docs/modules/module2/methodes/>Méthodes et constructeurs</a></li><li><a href=/inf1220-hugo/docs/modules/module2/exercices-2-2/>Exercices sur les classes et méthodes</a></li><li><a href=/inf1220-hugo/docs/modules/module2/conseils/>Recommandations</a></li><li><a href=/inf1220-hugo/docs/modules/module2/markdown/>MarkDown</a></li><li><a href=/inf1220-hugo/docs/modules/module2/gabarit/>Gabarit pour les travaux notés 2, 3, 4 et 5</a></li><li><a href=/inf1220-hugo/docs/modules/module2/travail-note-2/>Travail noté 2</a></li></ul></li><li><input type=checkbox id=section-67896e9afc9b4080d8c27b998062dd91 class=toggle>
<label for=section-67896e9afc9b4080d8c27b998062dd91 class=flex><a href=/inf1220-hugo/docs/modules/module3/ class=flex-auto>Module 3: Les structures de données, de contrôle et d'itération en Java</a></label><ul><li><a href=/inf1220-hugo/docs/modules/module3/pasapas/>Java pas à pas</a></li><li><a href=/inf1220-hugo/docs/modules/module3/github/>GitHub</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-1/>Les structures de contrôle</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-2/>Les structures itératives</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-3-string/>Les chaînes de caractères (String)</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-3/>Les structures de données de base</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-3-random/>Les valeurs aléatoires</a></li><li><a href=/inf1220-hugo/docs/modules/module3/fonctionnel/>La programmation fonctionnelle en Java</a></li><li><a href=/inf1220-hugo/docs/modules/module3/exercices-3-1/>Exercices sur les structures de contrôle, les structures de données, les structures itératives</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-4/>Les exceptions</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-5/>La récursivité</a></li><li><a href=/inf1220-hugo/docs/modules/module3/exercices-3-2/>Exercices sur les exceptions et la récursivité</a></li><li><a href=/inf1220-hugo/docs/modules/module3/activite-3-3-modele/>Exemple : modèle de langue</a></li><li><a href=/inf1220-hugo/docs/modules/module3/conseils/>Recommandations</a></li><li><a href=/inf1220-hugo/docs/modules/module3/travail-note-3/>Travail noté 3</a></li></ul></li><li><input type=checkbox id=section-9087a4ffddbd9e1f0f2f4b3f8c85dcb4 class=toggle checked>
<label for=section-9087a4ffddbd9e1f0f2f4b3f8c85dcb4 class=flex><a href=/inf1220-hugo/docs/modules/module4/ class=flex-auto>Module 4: Les entrées et sorties</a></label><ul><li><a href=/inf1220-hugo/docs/modules/module4/pasapas/>Java pas à pas</a></li><li><a href=/inf1220-hugo/docs/modules/module4/activite-4-1/>Les flux de console</a></li><li><a href=/inf1220-hugo/docs/modules/module4/activite-4-2/>Les flux de données: lecture dans des fichiers et autres</a></li><li><a href=/inf1220-hugo/docs/modules/module4/exercices-4-1/ class=active>Exercices sur les flux</a></li><li><a href=/inf1220-hugo/docs/modules/module4/web/>Développement web</a></li><li><a href=/inf1220-hugo/docs/modules/module4/travail-note-4/>Travail noté 4</a></li></ul></li><li><input type=checkbox id=section-749269b787e65f29f734b50b6282d284 class=toggle>
<label for=section-749269b787e65f29f734b50b6282d284 class=flex><a href=/inf1220-hugo/docs/modules/module5/ class=flex-auto>Module 5. La programmation orientée objet: héritage et le polymorphisme</a></label><ul><li><a href=/inf1220-hugo/docs/modules/module5/pasapas/>Java pas à pas</a></li><li><a href=/inf1220-hugo/docs/modules/module5/activite-5-1/>L'héritage, les classes abstraites et les interfaces</a></li><li><a href=/inf1220-hugo/docs/modules/module5/activite-5-2/>Le polymorphisme</a></li><li><a href=/inf1220-hugo/docs/modules/module5/exercices-5-1/>Exercices sur l’héritage et le polymorphisme</a></li><li><a href=/inf1220-hugo/docs/modules/module5/travail-note-5/>Travail noté 5</a></li></ul></li><li><a href=/inf1220-hugo/docs/modules/examen/>Examen</a></li></ul></li><li><a href=/inf1220-hugo/docs/evaluation/>Évaluation</a></li><li><a href=/inf1220-hugo/docs/pensebete/>Pense-bête java</a></li><li><input type=checkbox id=section-5cc50cb3031bd6bd7b763bb20cfb7f0e class=toggle>
<label for=section-5cc50cb3031bd6bd7b763bb20cfb7f0e class=flex><a role=button class=flex-auto>Autres ressources</a></label><ul><li><a href=/inf1220-hugo/docs/extra/credits/>Le professeur</a></li><li><a href=/inf1220-hugo/docs/extra/feuille-de-route/>Feuille de route</a></li><li><a href=/inf1220-hugo/docs/extra/ressources/>Ressources</a></li><li><a href=/inf1220-hugo/docs/extra/faq/>FAQ</a></li><li><a href=/inf1220-hugo/docs/extra/manuel/>Manuel</a></li><li><a href=/inf1220-hugo/docs/extra/math/>Rappel mathématique</a></li><li><a href=/inf1220-hugo/docs/extra/ia/>Intelligence artificielle</a></li><li><a href=/inf1220-hugo/docs/extra/courriel/>Petit guide d’usage du courriel efficace</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/inf1220-hugo/svg/menu.svg class=book-icon alt=Menu></label><h3>Exercices sur les flux</h3><label for=toc-control><img src=/inf1220-hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#questionsréponses>Questions/réponses</a></li><li><a href=#réponses-uniques->Réponses uniques ?</a></li><li><a href=#question-1>Question 1</a></li><li><a href=#question-2>Question 2</a></li><li><a href=#question-3>Question 3</a></li><li><a href=#question-4>Question 4</a></li><li><a href=#question-5>Question 5</a></li><li><a href=#question-6>Question 6</a></li><li><a href=#question-7>Question 7</a></li><li><a href=#question-8>Question 8</a></li><li><a href=#question-9>Question 9</a></li><li><a href=#question-10>Question 10</a></li><li><a href=#question-11>Question 11</a></li><li><a href=#question-y>Question Y</a></li><li><a href=#question-12>Question 12</a></li><li><a href=#question-13>Question 13</a></li><li><a href=#question-14>Question 14</a></li><li><a href=#question-15>Question 15</a></li><li><a href=#question-16>Question 16</a></li><li><a href=#question-17>Question 17</a></li><li><a href=#question-18>Question 18</a></li><li><a href=#question-19>Question 19</a></li><li><a href=#question-20>Question 20</a></li><li><a href=#question-21>Question 21</a></li><li><a href=#question-22>Question 22</a></li><li><a href=#question-23>Question 23</a></li><li><a href=#question-24>Question 24</a></li><li><a href=#question-25>Question 25</a></li><li><a href=#question-26>Question 26</a></li><li><a href=#question-27>Question 27</a></li><li><a href=#question-28>Question 28</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=exercices-sur-les-flux>Exercices sur les flux
<a class=anchor href=#exercices-sur-les-flux>#</a></h1><h2 id=questionsréponses>Questions/réponses
<a class=anchor href=#questionsr%c3%a9ponses>#</a></h2><p>Veuillez répondre mentalement, sur papier ou en créant le code nécessaire pour répondre à ces questions avant de regarder la réponse.
Certaines questions sont difficiles, et il est normal de ne pas toutes les réussir.</p><blockquote class="book-hint info"><p>N&rsquo;oubliez pas d&rsquo;utiliser notre <a href=https://lemire.github.io/inf1220-hugo/docs/pensebete/>pense-bête Java</a> au besoin. Pour les mathématiques,
vous pouvez faire référence à notre rappel sur <a href=https://lemire.github.io/inf1220-hugo/docs/extra/math/>les principales notions mathématiques</a> du cours.</p></blockquote><p>Si vous ne faites pas honnêtement les exercices et les lectures dans ce cours, il est possible que vous n’arriviez pas à faire les travaux notés et les examens.</p><p>Prenez note qu’il est permis d’utiliser le robot conversationnel du cours lors des exercices. Cependant, vous devriez vous entraîner à produire vos propres réponses.</p><blockquote class="book-hint info"><h2 id=réponses-uniques->Réponses uniques ?
<a class=anchor href=#r%c3%a9ponses-uniques->#</a></h2><p>Les exercices comportent une solution vous permettant de comparer votre approche avec la nôtre. Il n’y a pas de solution unique aux problèmes en général. Vous pouvez arriver à une solution préférable ou moins bonne que celle que nous offrons. Pour répondre à ces questions, vous devez avoir fait toutes les lectures préalables. Vous disposez alors toujours des fondements nécessaires pour réaliser les exercices. Nous vous encourageons à faire vos propres recherches en complément des lectures. Dans certains cas, dans la solution que nous offrons, nous pouvons utiliser des notions techniques non vues directement dans le cours, mais qui devraient vous être facilement accessibles.</p></blockquote><h2 id=question-1>Question 1
<a class=anchor href=#question-1>#</a></h2><p>Le programme suivant permet-il de lire deux lignes entrées au clavier ?</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>class</span> <span style=color:#1f2328>TestIn</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#fff> </span><span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;==&gt; Taper deux lignes&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;?&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>ligne1<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;?&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>ligne2<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;==&gt; Les deux lignes lues sont:\n==&gt;  &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne1<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;\n==&gt; &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne2<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><details><summary>Réponse</summary><p>Oui, la classe Scanner avec en paramètre l’entrée de la console permet de lire des entrées au clavier. Le code fait la lecture de deux lignes de données au clavier.</p><p>Notez qu’on évite délibérément d’appeler scanner.close() puisque cela aurait pour conséquence la fermeture de System.in, ce qui n’est généralement pas souhaitable. La ressource System.in est automatiquement fermée à la fin du programme dans tous les cas, il n’est donc pas nécessaire de s’en préoccuper.</p></details><h2 id=question-2>Question 2
<a class=anchor href=#question-2>#</a></h2><p>Que fait ce programme ?</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>class</span> <span style=color:#1f2328>TestFichOut</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>File<span style=color:#fff> </span>fichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Lasortie.txt&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span>FileOutputStream<span style=color:#fff> </span>streamFich<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileOutputStream<span style=color:#1f2328>(</span>fichier<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span>DataOutputStream<span style=color:#fff> </span>d<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataOutputStream<span style=color:#1f2328>(</span>streamFich<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span>PrintStream<span style=color:#fff> </span>out<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>PrintStream<span style=color:#1f2328>(</span>d<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>         </span>Scanner<span style=color:#fff> </span>sc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;==&gt; Taper des lignes terminées  par ctrl-D&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;?&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#1f2328>(</span>sc<span style=color:#1f2328>.</span><span style=color:#1f2328>hasNextLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>out<span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>sc<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;?&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>java<span style=color:#1f2328>.</span><span style=color:#1f2328>io</span><span style=color:#1f2328>.</span><span style=color:#1f2328>IOException</span><span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Il y a une erreur de lecture ou  écriture&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>finally</span><span style=color:#fff> </span><span style=color:#1f2328>{}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><details><summary>Réponse</summary><p>Il prend chaque ligne saisie par l’utilisateur et l’écrit dans un fichier. Par ailleurs, notez que la variable ligne est inutilisée.</p></details><h2 id=question-3>Question 3
<a class=anchor href=#question-3>#</a></h2><p>En supposant que vous avez les droits d’écriture et de lecture appropriés, créez un fichier séquentiel binaire (monFichier) dans un répertoire (monRepertoire) sur la racine. On suppose que le fichier et le répertoire n’existent pas déjà. Écrivez dans ce fichier les nombres entiers de 0 à 9.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Exercice1M4</span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff> </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>args<span style=color:#0550ae>[]</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>String<span style=color:#fff> </span>s<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>File<span style=color:#1f2328>.</span><span style=color:#1f2328>separator</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>File<span style=color:#fff> </span>monRepertoire<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>s<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;monRepertoire&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>.</span><span style=color:#1f2328>mkdirs</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** répertoire créé correctement***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span>File<span style=color:#fff> </span>monFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;monFichier&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>.</span><span style=color:#1f2328>createNewFile</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>       </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***fichier créé correctement***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DataOutputStream<span style=color:#fff> </span>sortie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataOutputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedOutputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileOutputStream<span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>10<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>writeInt</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>       </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>       </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***le fichier n&#39;a pas été créé***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span><span style=color:#cf222e>else</span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>     </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** le répertoire n&#39;a pas été créé**}&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff> </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-4>Question 4
<a class=anchor href=#question-4>#</a></h2><p>Écrivez un programme qui affiche le contenu du fichier de l’exercice précédent, puis ajoute à ce fichier le double des entiers impairs de 0 à 9. Les noms de répertoire et de fichier devront être fournis par l’utilisateur qui les saisira au clavier.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Exercice2M4</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>String<span style=color:#fff> </span>nomFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span>nomRepertoire<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>String<span style=color:#fff> </span>s<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>File<span style=color:#1f2328>.</span><span style=color:#1f2328>separator</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;donnez le nom du répertoire à lire : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>nomRepertoire<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>File<span style=color:#fff> </span>monRepertoire<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>s<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nomRepertoire<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>.</span><span style=color:#1f2328>exists</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>&amp;&amp;</span><span style=color:#fff> </span>monRepertoire<span style=color:#1f2328>.</span><span style=color:#1f2328>isDirectory</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***ce répertoire existe***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;donnez le nom du fichier à traiter : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>File<span style=color:#fff> </span>monFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>,</span><span style=color:#fff> </span>nomFichier<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>.</span><span style=color:#1f2328>exists</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** ce fichier existe et voici son contenu***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DataInputStream<span style=color:#fff> </span>entree<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataInputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedInputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileInputStream<span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>boolean</span><span style=color:#fff> </span>eof<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>false</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>eof<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>try</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>readInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>EOFException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>eof<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>true</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>eof<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DataOutputStream<span style=color:#fff> </span>sortie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataOutputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedOutputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileOutputStream<span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>true</span><span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>10<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>i<span style=color:#fff> </span><span style=color:#0550ae>%</span><span style=color:#fff> </span>2<span style=color:#fff> </span><span style=color:#0550ae>&gt;=</span><span style=color:#fff> </span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>writeInt</span><span style=color:#1f2328>(</span>2<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***ce fichier n&#39;existe pas***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** ce répertoire n&#39;existe pas***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-5>Question 5
<a class=anchor href=#question-5>#</a></h2><p>En poursuivant avec le même exemple que les deux exercices précédents, écrivez un programme qui affiche le contenu du fichier, puis modifie ce fichier en remplaçant les nombres entiers impairs par leur double. Les noms de répertoire et de fichier devront être fournis par l’utilisateur qui les saisira au clavier.</p><p>Quelle est la différence entre cet exercice et l’exercice précédent du point de vue des types d’accès et des possibilités qui y sont liées ?</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Exercice3M4</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>args<span style=color:#0550ae>[]</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>String<span style=color:#fff> </span>nomFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span>nomRepertoire<span style=color:#1f2328>,</span><span style=color:#fff> </span>s<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>File<span style=color:#1f2328>.</span><span style=color:#1f2328>separator</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;donnez le nom du répertoire à lire : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>nomRepertoire<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>File<span style=color:#fff> </span>monRepertoire<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>s<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nomRepertoire<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>.</span><span style=color:#1f2328>exists</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>&amp;&amp;</span><span style=color:#fff> </span>monRepertoire<span style=color:#1f2328>.</span><span style=color:#1f2328>isDirectory</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***ce répertoire existe***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;donnez le nom du fichier à traiter : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>File<span style=color:#fff> </span>monFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>File<span style=color:#1f2328>(</span>monRepertoire<span style=color:#1f2328>,</span><span style=color:#fff> </span>nomFichier<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>.</span><span style=color:#1f2328>exists</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** ce fichier existe et voici son contenu***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DataInputStream<span style=color:#fff> </span>entree<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataInputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedInputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileInputStream<span style=color:#1f2328>(</span>monFichier<span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>boolean</span><span style=color:#fff> </span>eof<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>false</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>eof<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>try</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>readInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>EOFException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>eof<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>true</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>eof<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***il va maintenant être modifié si necessaire*** &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>RandomAccessFile<span style=color:#fff> </span>sortie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>RandomAccessFile<span style=color:#1f2328>(</span>s<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nomRepertoire<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>s<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nomFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;rw&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>taille<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>do</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>seek</span><span style=color:#1f2328>(</span>4<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>readInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>n<span style=color:#fff> </span><span style=color:#0550ae>%</span><span style=color:#fff> </span>2<span style=color:#fff> </span><span style=color:#0550ae>&gt;=</span><span style=color:#fff> </span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>seek</span><span style=color:#1f2328>(</span>4<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>writeInt</span><span style=color:#1f2328>(</span>2<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>n<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>taille<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;  l&#39;ancienne valeur de n est: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;  et la nouvelle valeur de n est:  &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>2<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>n<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>1<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>i<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>4<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>taille<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;***ce fichier n&#39;existe pas***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** ce répertoire n&#39;existe pas***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>La différence réside en ceci que l’accès direct nous facilite la mise à jour du fichier. Si nous devions faire cette mise à jour lors d’un accès séquentiel, ce serait extrêmement laborieux (une solution consistant à utiliser un flux de sortie et un flux d’entrée en même temps). Il ne faut pas confondre cette mise à jour des données déjà présentes dans le fichier avec l’ajout de nouveaux éléments dans le même fichier, tel que ce qui est fait à l’exercice précédent par exemple.</p></details><h2 id=question-6>Question 6
<a class=anchor href=#question-6>#</a></h2><p>Créez un fichier texte nommé unFichier dans le répertoire courant et écrivez-y « Bonjour, je suis bien créé ». Ce nom sera fourni par l’utilisateur sous forme de chaîne « unFichier.txt ».</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Exercice4M4</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff> </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>args<span style=color:#0550ae>[]</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>String<span style=color:#fff> </span>nomFichier<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Donnez le nom du fichier a creer avec son extension .txt: &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>PrintWriter<span style=color:#fff> </span>sortie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>PrintWriter<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedWriter<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileWriter<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>)));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34; Bonjour, je suis bien créé  &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>   </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** le fichier &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34; a été bien créé  &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff> </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-7>Question 7
<a class=anchor href=#question-7>#</a></h2><p>Écrivez un code qui prend en paramètre le nom du fichier de l’exercice précédent (unFichier.txt) et affiche son chemin d’accès (c’est-à-dire le répertoire courant) ainsi que le contenu du fichier.</p><p>On suppose dans cet exercice qu’on reste dans le même répertoire courant qu’à l’exercice précédent.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Exercice5M4</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>args<span style=color:#0550ae>[]</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>String<span style=color:#fff> </span>nomFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Donnez le nom du fichier  : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>next</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>BufferedReader<span style=color:#fff> </span>entree<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>));)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;*** voici le contenu du fichier qui est situé dans le répertoire***\n &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>getProperty</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;user.dir&#34;</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;\n &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#cf222e>do</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>          </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\n&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;*** fin du contenu ***&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>java<span style=color:#1f2328>.</span><span style=color:#1f2328>io</span><span style=color:#1f2328>.</span><span style=color:#1f2328>IOException</span><span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>      </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;le fichier n&#39;existe pas&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>finally</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>  </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-8>Question 8
<a class=anchor href=#question-8>#</a></h2><p>Écrivez un programme Java qui compte le nombre de voyelles dans une chaîne de caractères saisie par l’utilisateur.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>CompteVoyelles</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>sc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>s<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>sc<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>compteur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>char</span><span style=color:#fff> </span>c<span style=color:#fff> </span><span style=color:#1f2328>:</span><span style=color:#fff> </span>s<span style=color:#1f2328>.</span><span style=color:#1f2328>toLowerCase</span><span style=color:#1f2328>().</span><span style=color:#1f2328>toCharArray</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;aeiouy&#34;</span><span style=color:#1f2328>.</span><span style=color:#1f2328>indexOf</span><span style=color:#1f2328>(</span>c<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#0550ae>-</span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span>compteur<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de voyelles : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>compteur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-9>Question 9
<a class=anchor href=#question-9>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte ligne par ligne et affiche chaque ligne précédée de son numéro (exemple : 1: première ligne, 2: deuxième ligne, etc.).</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>LireFichier</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>BufferedReader<span style=color:#fff> </span>br<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;monfichier.txt&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>num<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>1<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>br<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>num<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>num<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>br<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-10>Question 10
<a class=anchor href=#question-10>#</a></h2><p>Écrivez un programme Java qui demande à l’utilisateur un nom de fichier, puis affiche le nombre de caractères dans ce fichier.</p><details><summary>Réponse</summary><p>Il est possible de procéder caractère par caractère :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>CompteCaracteres</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>sc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nom<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>sc<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>FileReader<span style=color:#fff> </span>fr<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>nom<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>compteur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>fr<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#0550ae>-</span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span>compteur<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>fr<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de caractères : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>compteur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Il est possible de procéder plus rapidement :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Files</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Paths</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>FileSize</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>IOException<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>filePath<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;monfichier.txt&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>size<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>size</span><span style=color:#1f2328>(</span>Paths<span style=color:#1f2328>.</span><span style=color:#1f2328>get</span><span style=color:#1f2328>(</span>filePath<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de caractères : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>size<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div></details><h2 id=question-11>Question 11
<a class=anchor href=#question-11>#</a></h2><p>Le code suivant lit un fichier texte ligne par ligne et concatène toutes les lignes dans une seule chaîne :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>String<span style=color:#fff> </span>resultat<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>BufferedReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;fichier.txt&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>resultat<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>resultat<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Réécrivez ce code de façon plus performante. Expliquez pourquoi votre version est préférable.</p><details><summary>Réponse</summary><p>On peut utiliser un StringBuilder pour éviter de créer de nombreuses chaînes intermédiaires, ce qui améliore l’efficacité (temps et mémoire) :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>StringBuilder<span style=color:#fff> </span>resultat<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringBuilder<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>BufferedReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;fichier.txt&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>resultat<span style=color:#1f2328>.</span><span style=color:#1f2328>append</span><span style=color:#1f2328>(</span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Avec StringBuilder, on évite la création répétée de nouvelles chaînes à chaque itération, ce qui rend le code beaucoup plus rapide et économe en mémoire, surtout pour de gros fichiers.</p></details><h2 id=question-y>Question Y
<a class=anchor href=#question-y>#</a></h2><p>Le code suivant lit un fichier caractère par caractère sans utiliser de buffer :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>FileReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;fichier.txt&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>int</span><span style=color:#fff> </span>c<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>c<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#0550ae>-</span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Traitement du caractère c</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Expliquez pourquoi ce code peut être lent pour de gros fichiers. Proposez une version optimisée utilisant un buffer, et expliquez pourquoi elle est préférable.</p><details><summary>Réponse</summary><p>Lire caractère par caractère sans buffer entraîne de nombreux accès disque, ce qui ralentit la lecture. Utiliser un BufferedReader permet de lire des blocs de caractères en mémoire, ce qui accélère le traitement :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>BufferedReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;fichier.txt&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>int</span><span style=color:#fff> </span>c<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>c<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#0550ae>-</span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#57606a>// Traitement du caractère c</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Le BufferedReader réduit le nombre d’appels au système en lisant de grands blocs à la fois, ce qui améliore nettement la performance, surtout pour les gros fichiers.</p></details><h2 id=question-12>Question 12
<a class=anchor href=#question-12>#</a></h2><p>Écrivez un programme Java qui utilise StringWriter pour construire une chaîne contenant des paires clé-valeur au format clé=valeur, puis utilise StringReader pour lire et afficher chaque ligne de cette chaîne.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.StringWriter</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.StringReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.BufferedReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>StringWriterReaderExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>StringWriter<span style=color:#fff> </span>writer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringWriter<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>writer<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom=Alice\n&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>writer<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;âge=30\n&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>writer<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;ville=Paris\n&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>contenu<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>writer<span style=color:#1f2328>.</span><span style=color:#1f2328>toString</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Contenu généré :\n&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>contenu<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>StringReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringReader<span style=color:#1f2328>(</span>contenu<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>BufferedReader<span style=color:#fff> </span>bufferedReader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span>reader<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Lecture des lignes :&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>bufferedReader<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Ligne : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>StringWriter permet de construire une chaîne en mémoire en écrivant des lignes formatées, ici des paires clé-valeur. StringReader lit cette chaîne comme un flux, et BufferedReader facilite la lecture ligne par ligne. Cette approche est utile pour générer et parser des données textuelles sans accès disque, avec une gestion d’exceptions pour les erreurs potentielles.</p></details><h2 id=question-13>Question 13
<a class=anchor href=#question-13>#</a></h2><p>Écrivez un programme Java qui utilise ByteArrayOutputStream pour écrire une séquence de bytes à partir d’une chaîne, puis ByteArrayInputStream pour lire et afficher ces bytes comme caractères.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.ByteArrayOutputStream</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.ByteArrayInputStream</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>ByteArrayStreamExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>ByteArrayOutputStream<span style=color:#fff> </span>output<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>ByteArrayOutputStream<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>texte<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Test Java NIO&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>output<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span>texte<span style=color:#1f2328>.</span><span style=color:#1f2328>getBytes</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>byte</span><span style=color:#0550ae>[]</span><span style=color:#fff> </span>bytes<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>output<span style=color:#1f2328>.</span><span style=color:#1f2328>toByteArray</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Taille des bytes écrits : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>bytes<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>ByteArrayInputStream<span style=color:#fff> </span>input<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>ByteArrayInputStream<span style=color:#1f2328>(</span>bytes<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Contenu lu : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>octet<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>octet<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>input<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#0550ae>-</span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>((</span><span style=color:#cf222e>char</span><span style=color:#1f2328>)</span><span style=color:#fff> </span>octet<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>ByteArrayOutputStream accumule les bytes d’une chaîne en mémoire, permettant de récupérer un tableau de bytes. ByteArrayInputStream lit ces bytes comme un flux, ici convertis en caractères pour l’affichage. Cette méthode est efficace pour manipuler des données binaires en mémoire, sans accès disque, avec une gestion d’exceptions pour les erreurs.</p></details><h2 id=question-14>Question 14
<a class=anchor href=#question-14>#</a></h2><p>Écrivez un programme Java qui utilise ByteBuffer pour écrire une liste de 5 entiers dans un buffer, puis lire et afficher ces entiers dans l’ordre inverse.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>ByteBufferExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>allocate</span><span style=color:#1f2328>(</span>20<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#0550ae>[]</span><span style=color:#fff> </span>entiers<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>{</span>10<span style=color:#1f2328>,</span><span style=color:#fff> </span>20<span style=color:#1f2328>,</span><span style=color:#fff> </span>30<span style=color:#1f2328>,</span><span style=color:#fff> </span>40<span style=color:#1f2328>,</span><span style=color:#fff> </span>50<span style=color:#1f2328>};</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#1f2328>:</span><span style=color:#fff> </span>entiers<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>putInt</span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entiers écrits : position = &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>position</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Lecture en ordre inverse :&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>entiers<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#fff> </span><span style=color:#0550ae>-</span><span style=color:#fff> </span>1<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&gt;=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>--</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>position</span><span style=color:#1f2328>(</span>i<span style=color:#fff> </span><span style=color:#0550ae>*</span><span style=color:#fff> </span>4<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>valeur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>getInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>valeur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>ByteBuffer stocke 5 entiers (4 octets chacun) dans un buffer de 20 octets. La méthode putInt écrit les entiers séquentiellement, et position(int) permet de repositionner le buffer pour lire chaque entier dans l’ordre inverse avec getInt. Cette approche montre l’efficacité des buffers pour manipuler des données en mémoire avec un contrôle précis, sans besoin d’accès disque.</p></details><h2 id=question-15>Question 15
<a class=anchor href=#question-15>#</a></h2><p>Écrivez un programme Java qui utilise FileChannel pour écrire une chaîne dans un fichier texte, puis lire et afficher son contenu.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.StandardOpenOption</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.channels.FileChannel</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.charset.StandardCharsets</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>FileChannelExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Path<span style=color:#fff> </span>chemin<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;texte.txt&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>FileChannel<span style=color:#fff> </span>canal<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>FileChannel<span style=color:#1f2328>.</span><span style=color:#1f2328>open</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>,</span><span style=color:#fff> </span>StandardOpenOption<span style=color:#1f2328>.</span><span style=color:#1f2328>CREATE</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>StandardOpenOption<span style=color:#1f2328>.</span><span style=color:#1f2328>WRITE</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>texte<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Exemple FileChannel&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>wrap</span><span style=color:#1f2328>(</span>texte<span style=color:#1f2328>.</span><span style=color:#1f2328>getBytes</span><span style=color:#1f2328>(</span>StandardCharsets<span style=color:#1f2328>.</span><span style=color:#1f2328>UTF_8</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>write</span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Fichier écrit.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur écriture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>FileChannel<span style=color:#fff> </span>canal<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>FileChannel<span style=color:#1f2328>.</span><span style=color:#1f2328>open</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>,</span><span style=color:#fff> </span>StandardOpenOption<span style=color:#1f2328>.</span><span style=color:#1f2328>READ</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>allocate</span><span style=color:#1f2328>(</span>1024<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>flip</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>contenu<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>StandardCharsets<span style=color:#1f2328>.</span><span style=color:#1f2328>UTF_8</span><span style=color:#1f2328>.</span><span style=color:#1f2328>decode</span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>).</span><span style=color:#1f2328>toString</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Contenu lu : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>contenu<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>FileChannel permet d’écrire une chaîne dans un fichier via un ByteBuffer avec write, puis de lire le contenu avec read dans un buffer, converti en chaîne via UTF-8. L’utilisation de try-with-resources garantit la fermeture des canaux, et le buffer optimise les accès disque. Cette approche est performante pour les fichiers, surtout volumineux, par rapport aux flux traditionnels.</p></details><h2 id=question-16>Question 16
<a class=anchor href=#question-16>#</a></h2><p>Écrivez un programme Java qui crée un fichier .properties avec des paires clé-valeur, puis lit et affiche une propriété spécifique demandée par l’utilisateur.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Files</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.StringWriter</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Properties</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>PropertiesExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Path<span style=color:#fff> </span>chemin<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;config.properties&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Properties<span style=color:#fff> </span>props<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Properties<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>props<span style=color:#1f2328>.</span><span style=color:#1f2328>setProperty</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Alice&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>props<span style=color:#1f2328>.</span><span style=color:#1f2328>setProperty</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;âge&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;30&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>StringWriter<span style=color:#fff> </span>writer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringWriter<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>props<span style=color:#1f2328>.</span><span style=color:#1f2328>store</span><span style=color:#1f2328>(</span>writer<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Config&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>writeString</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>,</span><span style=color:#fff> </span>writer<span style=color:#1f2328>.</span><span style=color:#1f2328>toString</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Fichier créé.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur création : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>var</span><span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>newBufferedReader</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>props<span style=color:#1f2328>.</span><span style=color:#1f2328>load</span><span style=color:#1f2328>(</span>reader<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>Scanner<span style=color:#fff> </span>sc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Clé à lire : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>clé<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>sc<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>valeur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>props<span style=color:#1f2328>.</span><span style=color:#1f2328>getProperty</span><span style=color:#1f2328>(</span>clé<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Clé non trouvée&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Valeur : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>valeur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Le programme crée un fichier .properties avec Properties.store et Files.writeString, puis charge le fichier avec Properties.load. L’utilisateur entre une clé, et getProperty récupère la valeur correspondante ou un message par défaut. Cette approche utilise java.nio.file pour une gestion moderne des fichiers et Properties pour manipuler le format .properties sans dépendance externe.</p></details><h2 id=question-17>Question 17
<a class=anchor href=#question-17>#</a></h2><p>Écrivez un programme Java qui utilise l’API java.net.http pour envoyer une requête HTTP GET à une URL donnée et afficher le code de statut et le corps de la réponse.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.URI</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpClient</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpRequest</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpResponse</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>HttpGetExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpClient<span style=color:#fff> </span>client<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpClient<span style=color:#1f2328>.</span><span style=color:#1f2328>newHttpClient</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpRequest<span style=color:#fff> </span>request<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpRequest<span style=color:#1f2328>.</span><span style=color:#1f2328>newBuilder</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>uri</span><span style=color:#1f2328>(</span>URI<span style=color:#1f2328>.</span><span style=color:#1f2328>create</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;https://jsonplaceholder.typicode.com/posts/1&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>GET</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>build</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>HttpResponse<span style=color:#0550ae>&lt;</span>String<span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>client<span style=color:#1f2328>.</span><span style=color:#1f2328>send</span><span style=color:#1f2328>(</span>request<span style=color:#1f2328>,</span><span style=color:#fff> </span>HttpResponse<span style=color:#1f2328>.</span><span style=color:#1f2328>BodyHandlers</span><span style=color:#1f2328>.</span><span style=color:#1f2328>ofString</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Code de statut : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>statusCode</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Corps de la réponse :\n&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>body</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span><span style=color:#0550ae>|</span><span style=color:#fff> </span>InterruptedException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur requête : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>L’API java.net.http (introduite en Java 11) permet d’envoyer une requête GET à une URL avec HttpClient et HttpRequest. La réponse, obtenue via client.send, inclut le code de statut (par exemple, 200 pour succès) et le corps (ici, JSON). Cette méthode est plus moderne que HttpURLConnection, avec un support pour HTTP/2 et une gestion simplifiée des erreurs.</p></details><h2 id=question-18>Question 18
<a class=anchor href=#question-18>#</a></h2><p>Le code suivant utilise HttpURLConnection pour envoyer une requête HTTP GET :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>URL<span style=color:#fff> </span>url<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>URL<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;https://example.com&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>HttpURLConnection<span style=color:#fff> </span>conn<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>HttpURLConnection<span style=color:#1f2328>)</span><span style=color:#fff> </span>url<span style=color:#1f2328>.</span><span style=color:#1f2328>openConnection</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>conn<span style=color:#1f2328>.</span><span style=color:#1f2328>setRequestMethod</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;GET&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>BufferedReader<span style=color:#fff> </span>reader<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>InputStreamReader<span style=color:#1f2328>(</span>conn<span style=color:#1f2328>.</span><span style=color:#1f2328>getInputStream</span><span style=color:#1f2328>()));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>StringBuilder<span style=color:#fff> </span>resultat<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringBuilder<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span>resultat<span style=color:#1f2328>.</span><span style=color:#1f2328>append</span><span style=color:#1f2328>(</span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span>reader<span style=color:#1f2328>.</span><span style=color:#1f2328>close</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Expliquez pourquoi ce code peut être moins pratique que l’API java.net.http. Proposez une version optimisée utilisant HttpClient.</p><details><summary>Réponse</summary><p>HttpURLConnection est verbeux, manque de support natif pour HTTP/2, et nécessite une gestion manuelle des flux et des erreurs, ce qui complique le code. L’API java.net.http offre une syntaxe plus concise, un support pour HTTP/2, et une gestion simplifiée des requêtes asynchrones et des erreurs.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.URI</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpClient</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpRequest</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.net.http.HttpResponse</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>HttpClientExample</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpClient<span style=color:#fff> </span>client<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpClient<span style=color:#1f2328>.</span><span style=color:#1f2328>newHttpClient</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>HttpRequest<span style=color:#fff> </span>request<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>HttpRequest<span style=color:#1f2328>.</span><span style=color:#1f2328>newBuilder</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>uri</span><span style=color:#1f2328>(</span>URI<span style=color:#1f2328>.</span><span style=color:#1f2328>create</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;https://example.com&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>GET</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>.</span><span style=color:#1f2328>build</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>HttpResponse<span style=color:#0550ae>&lt;</span>String<span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>response<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>client<span style=color:#1f2328>.</span><span style=color:#1f2328>send</span><span style=color:#1f2328>(</span>request<span style=color:#1f2328>,</span><span style=color:#fff> </span>HttpResponse<span style=color:#1f2328>.</span><span style=color:#1f2328>BodyHandlers</span><span style=color:#1f2328>.</span><span style=color:#1f2328>ofString</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Réponse : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>response<span style=color:#1f2328>.</span><span style=color:#1f2328>body</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span><span style=color:#0550ae>|</span><span style=color:#fff> </span>InterruptedException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>HttpClient réduit le code verbeux, gère automatiquement les flux et les fermetures, et permet une configuration flexible (par exemple, en-têtes ou requêtes asynchrones). Cette version est plus lisible et maintenable, avec une gestion d’erreurs centralisée.</p></details><h2 id=question-19>Question 19
<a class=anchor href=#question-19>#</a></h2><p>Écrivez un programme Java qui lit une séquence d’entiers stockée dans un fichier binaire (où chaque entier occupe 4 octets) à l’aide de FileChannel et ByteBuffer, puis vérifie si toutes les valeurs sont positives (strictement supérieures à 0). Le programme doit afficher un message indiquant si toutes les valeurs sont positives ou lister les valeurs non positives trouvées.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.StandardOpenOption</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.channels.FileChannel</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.ArrayList</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>CheckPositiveIntegers</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Path<span style=color:#fff> </span>chemin<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;entiers.bin&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>FileChannel<span style=color:#fff> </span>canal<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>FileChannel<span style=color:#1f2328>.</span><span style=color:#1f2328>open</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>,</span><span style=color:#fff> </span>StandardOpenOption<span style=color:#1f2328>.</span><span style=color:#1f2328>READ</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>taille<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>size</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>taille<span style=color:#fff> </span><span style=color:#0550ae>%</span><span style=color:#fff> </span>4<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Fichier invalide : taille non multiple de 4 octets.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>allocate</span><span style=color:#1f2328>((</span><span style=color:#cf222e>int</span><span style=color:#1f2328>)</span><span style=color:#fff> </span>taille<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>flip</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>ArrayList<span style=color:#0550ae>&lt;</span>Integer<span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>nonPositifs<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>ArrayList<span style=color:#0550ae>&lt;&gt;</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>hasRemaining</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>valeur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>getInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>valeur<span style=color:#fff> </span><span style=color:#0550ae>&lt;=</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>nonPositifs<span style=color:#1f2328>.</span><span style=color:#1f2328>add</span><span style=color:#1f2328>(</span>valeur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>nonPositifs<span style=color:#1f2328>.</span><span style=color:#1f2328>isEmpty</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Toutes les valeurs sont positives.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Valeurs non positives trouvées : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nonPositifs<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise FileChannel pour ouvrir un fichier binaire et ByteBuffer pour lire une séquence d’entiers (4 octets chacun). Après avoir chargé le contenu du fichier dans un buffer, il parcourt les entiers avec getInt et vérifie si chaque valeur est positive (> 0). Les valeurs non positives sont stockées dans une liste. À la fin, le programme affiche si toutes les valeurs sont positives ou liste les valeurs non conformes. L’utilisation de try-with-resources assure la fermeture du canal, et la vérification de la taille du fichier garantit que les données sont cohérentes. Cette approche est efficace pour lire des données binaires et vérifier des conditions sur des entiers.</p></details><h2 id=question-20>Question 20
<a class=anchor href=#question-20>#</a></h2><p>Écrivez un programme Java qui lit une séquence d’entiers à partir d’un fichier texte, où les entiers sont séparés par des espaces (par exemple, &ldquo;10 20 -5 30 0&rdquo;), en utilisant l’API java.nio.file. Le programme doit vérifier si toutes les valeurs sont positives (strictement supérieures à 0) et afficher un message indiquant si toutes les valeurs sont positives ou lister les valeurs non positives trouvées.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Files</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Arrays</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.List</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.stream.Collectors</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>CheckPositiveIntegersText</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Path<span style=color:#fff> </span>chemin<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;entiers.txt&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>contenu<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>readString</span><span style=color:#1f2328>(</span>chemin<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>List<span style=color:#0550ae>&lt;</span>Integer<span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>entiers<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Arrays<span style=color:#1f2328>.</span><span style=color:#1f2328>stream</span><span style=color:#1f2328>(</span>contenu<span style=color:#1f2328>.</span><span style=color:#1f2328>trim</span><span style=color:#1f2328>().</span><span style=color:#1f2328>split</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\\s+&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>.</span><span style=color:#1f2328>map</span><span style=color:#1f2328>(</span>Integer<span style=color:#1f2328>::</span>parseInt<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>.</span><span style=color:#1f2328>collect</span><span style=color:#1f2328>(</span>Collectors<span style=color:#1f2328>.</span><span style=color:#1f2328>toList</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>List<span style=color:#0550ae>&lt;</span>Integer<span style=color:#0550ae>&gt;</span><span style=color:#fff> </span>nonPositifs<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>entiers<span style=color:#1f2328>.</span><span style=color:#1f2328>stream</span><span style=color:#1f2328>()</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>.</span><span style=color:#1f2328>filter</span><span style=color:#1f2328>(</span>n<span style=color:#fff> </span><span style=color:#0550ae>-&gt;</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>&lt;=</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>.</span><span style=color:#1f2328>collect</span><span style=color:#1f2328>(</span>Collectors<span style=color:#1f2328>.</span><span style=color:#1f2328>toList</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>nonPositifs<span style=color:#1f2328>.</span><span style=color:#1f2328>isEmpty</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Toutes les valeurs sont positives.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Valeurs non positives trouvées : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>nonPositifs<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>NumberFormatException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : le fichier contient des données non valides : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise Files.readString de l’API java.nio.file pour lire le contenu d’un fichier texte (entiers.txt) contenant des entiers séparés par des espaces. La chaîne est divisée avec split("\s+") pour gérer plusieurs espaces, et les valeurs sont converties en entiers via un flux avec map(Integer::parseInt). Un second flux filtre les valeurs non positives (≤ 0) dans une liste. Le programme affiche si toutes les valeurs sont positives ou liste les valeurs non conformes. Une gestion d’exceptions capture les erreurs d’entrée/sortie (IOException) et les erreurs de format (NumberFormatException) pour garantir la robustesse. Cette approche est concise et tire parti des flux Java pour un traitement fonctionnel des données textuelles.</p></details><p>Voici cinq questions supplémentaires sur la lecture de fichiers texte en Java, suivant le modèle du document fourni. Chaque question inclut un énoncé clair, un programme Java avec une solution, et une explication détaillée dans une section <code>&lt;details>&lt;summary>Réponse&lt;/summary></code>. Les questions sont conçues pour explorer différents aspects de la lecture de fichiers texte, en utilisant des approches variées (flux, <code>java.nio.file</code>, etc.) tout en respectant les directives de style (majuscule sur le premier mot des titres, usage limité des listes et caractères gras, français impeccable).</p><h2 id=question-21>Question 21
<a class=anchor href=#question-21>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte et compte le nombre total de lignes, de mots et de caractères (hors espaces et retours à la ligne). Le nom du fichier est saisi par l’utilisateur.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.BufferedReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.FileReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>CompteTexte</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>lignes<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>mots<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>caracteres<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>BufferedReader<span style=color:#fff> </span>lecteur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>)))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>lecteur<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>lignes<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>motsLigne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>.</span><span style=color:#1f2328>trim</span><span style=color:#1f2328>().</span><span style=color:#1f2328>split</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\\s+&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>ligne<span style=color:#1f2328>.</span><span style=color:#1f2328>trim</span><span style=color:#1f2328>().</span><span style=color:#1f2328>isEmpty</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>mots<span style=color:#fff> </span><span style=color:#0550ae>+=</span><span style=color:#fff> </span>motsLigne<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>char</span><span style=color:#fff> </span>c<span style=color:#fff> </span><span style=color:#1f2328>:</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>.</span><span style=color:#1f2328>toCharArray</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>Character<span style=color:#1f2328>.</span><span style=color:#1f2328>isWhitespace</span><span style=color:#1f2328>(</span>c<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>caracteres<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de lignes : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>lignes<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de mots : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>mots<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Nombre de caractères (hors espaces) : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>caracteres<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise <code>BufferedReader</code> pour lire un fichier texte ligne par ligne. Pour chaque ligne, il incrémente un compteur de lignes, divise la ligne en mots avec <code>split("\\s+")</code> pour compter les mots (en ignorant les lignes vides), et parcourt les caractères pour compter ceux qui ne sont pas des espaces. La gestion des exceptions avec <code>IOException</code> et l’utilisation de <code>try-with-resources</code> assurent une lecture robuste et une fermeture automatique du flux. Cette approche est efficace pour analyser le contenu textuel et fournit des statistiques précises.</p></details><h2 id=question-22>Question 22
<a class=anchor href=#question-22>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte et affiche uniquement les lignes contenant un mot spécifique saisi par l’utilisateur. Le programme doit être insensible à la casse.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Files</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>FiltreLignes</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le mot à rechercher : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>mot<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>().</span><span style=color:#1f2328>toLowerCase</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>contenu<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>readString</span><span style=color:#1f2328>(</span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>lignes<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>contenu<span style=color:#1f2328>.</span><span style=color:#1f2328>split</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\n&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>numeroLigne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>String<span style=color:#fff> </span>ligne<span style=color:#fff> </span><span style=color:#1f2328>:</span><span style=color:#fff> </span>lignes<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>numeroLigne<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>ligne<span style=color:#1f2328>.</span><span style=color:#1f2328>toLowerCase</span><span style=color:#1f2328>().</span><span style=color:#1f2328>contains</span><span style=color:#1f2328>(</span>mot<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>numeroLigne<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise <code>Files.readString</code> de l’API <code>java.nio.file</code> pour lire l’intégralité d’un fichier texte en une seule chaîne, puis divise cette chaîne en lignes avec <code>split("\n")</code>. Chaque ligne est vérifiée pour voir si elle contient le mot saisi (converti en minuscules pour une recherche insensible à la casse) à l’aide de <code>contains</code>. Les lignes correspondantes sont affichées avec leur numéro. La gestion des exceptions avec <code>IOException</code> garantit la robustesse, et l’approche est simple et adaptée aux fichiers de taille modérée.</p></details><h2 id=question-23>Question 23
<a class=anchor href=#question-23>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte et remplace toutes les occurrences d’un mot donné par un autre mot, puis affiche le contenu modifié. Les mots sont saisis par l’utilisateur, et le programme doit préserver la casse.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.BufferedReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.FileReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>RemplaceMot</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le mot à remplacer : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>ancienMot<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nouveau mot : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nouveauMot<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>StringBuilder<span style=color:#fff> </span>contenuModifie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringBuilder<span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>BufferedReader<span style=color:#fff> </span>lecteur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>)))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>lecteur<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>String<span style=color:#fff> </span>ligneModifiee<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>.</span><span style=color:#1f2328>replaceAll</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\\b&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ancienMot<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;\\b&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>nouveauMot<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>contenuModifie<span style=color:#1f2328>.</span><span style=color:#1f2328>append</span><span style=color:#1f2328>(</span>ligneModifiee<span style=color:#1f2328>).</span><span style=color:#1f2328>append</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;\n&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Contenu modifié :\n&#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>contenuModifie<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme lit un fichier texte ligne par ligne avec <code>BufferedReader</code> et utilise <code>String.replaceAll</code> avec une expression régulière (<code>\\b</code> pour les limites de mot) afin de remplacer uniquement les occurrences exactes du mot saisi par le nouveau mot, en préservant la casse. Les lignes modifiées sont accumulées dans un <code>StringBuilder</code> pour une gestion efficace de la mémoire. Le contenu modifié est affiché à la fin. L’utilisation de <code>try-with-resources</code> et la gestion des exceptions assurent une exécution fiable.</p></details><h2 id=question-24>Question 24
<a class=anchor href=#question-24>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte et affiche les n premières lignes, où n est un nombre saisi par l’utilisateur. Si le fichier a moins de n lignes, toutes les lignes sont affichées.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.BufferedReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.FileReader</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>AffichePremieresLignes</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nombre de lignes à afficher : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>BufferedReader<span style=color:#fff> </span>lecteur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>BufferedReader<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileReader<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>)))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>ligne<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>compte<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>((</span>ligne<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>lecteur<span style=color:#1f2328>.</span><span style=color:#1f2328>readLine</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#fff> </span><span style=color:#0550ae>&amp;&amp;</span><span style=color:#fff> </span>compte<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>n<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>compte<span style=color:#0550ae>++</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>compte<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;: &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ligne<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>compte<span style=color:#fff> </span><span style=color:#0550ae>==</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Le fichier est vide.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise <code>BufferedReader</code> pour lire un fichier texte ligne par ligne. Un compteur suit le nombre de lignes lues, et la lecture s’arrête lorsque n lignes ont été affichées ou que le fichier est épuisé. Chaque ligne est affichée avec son numéro. Si le fichier est vide, un message approprié est affiché. La gestion des exceptions avec <code>IOException</code> et l’utilisation de <code>try-with-resources</code> garantissent une exécution robuste. Cette approche est efficace et simple pour limiter l’affichage aux premières lignes.</p></details><h2 id=question-25>Question 25
<a class=anchor href=#question-25>#</a></h2><p>Écrivez un programme Java qui lit un fichier texte et vérifie si son contenu est un palindrome (c’est-à-dire si le texte lu à l’envers est identique au texte original, en ignorant la casse, les espaces et la ponctuation).</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Files</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>VerifiePalindrome</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>contenu<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>Files<span style=color:#1f2328>.</span><span style=color:#1f2328>readString</span><span style=color:#1f2328>(</span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>nettoye<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>contenu<span style=color:#1f2328>.</span><span style=color:#1f2328>toLowerCase</span><span style=color:#1f2328>().</span><span style=color:#1f2328>replaceAll</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;[^a-z0-9]&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>String<span style=color:#fff> </span>inverse<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StringBuilder<span style=color:#1f2328>(</span>nettoye<span style=color:#1f2328>).</span><span style=color:#1f2328>reverse</span><span style=color:#1f2328>().</span><span style=color:#1f2328>toString</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>nettoye<span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>inverse<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Le contenu du fichier est un palindrome.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Le contenu du fichier n’est pas un palindrome.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise <code>Files.readString</code> pour lire le contenu d’un fichier texte. Le texte est nettoyé en convertissant en minuscules et en supprimant tout caractère non alphanumérique avec <code>replaceAll("[^a-z0-9]", "")</code>. Un <code>StringBuilder</code> est utilisé pour inverser la chaîne nettoyée, et une comparaison vérifie si le texte est un palindrome. La gestion des exceptions avec <code>IOException</code> assure la robustesse. Cette approche est concise et adaptée pour vérifier des propriétés textuelles complexes comme les palindromes.</p></details><p>Voici une question sur le mappage en mémoire en Java, suivant le modèle du document initial. Elle inclut un énoncé clair, un programme Java utilisant le mappage en mémoire avec <code>FileChannel</code> et <code>MappedByteBuffer</code>, ainsi qu’une explication détaillée dans une section <code>&lt;details>&lt;summary>Réponse&lt;/summary></code>. La question respecte les directives de style : majuscule uniquement sur le premier mot du titre, usage limité des listes et caractères gras, et français impeccable.</p><h2 id=question-26>Question 26
<a class=anchor href=#question-26>#</a></h2><p>Écrivez un programme Java qui utilise le mappage en mémoire pour lire un fichier binaire contenant une séquence d’entiers (4 octets chacun) et calcule la somme de ces entiers. Le nom du fichier est saisi par l’utilisateur, et le programme doit vérifier que la taille du fichier est un multiple de 4 octets pour garantir des données valides.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.channels.FileChannel</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.MappedByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.Path</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.file.StandardOpenOption</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.IOException</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>SommeEntiersMappage</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier binaire : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>FileChannel<span style=color:#fff> </span>canal<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>FileChannel<span style=color:#1f2328>.</span><span style=color:#1f2328>open</span><span style=color:#1f2328>(</span>Path<span style=color:#1f2328>.</span><span style=color:#1f2328>of</span><span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>),</span><span style=color:#fff> </span>StandardOpenOption<span style=color:#1f2328>.</span><span style=color:#1f2328>READ</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>taille<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>size</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>taille<span style=color:#fff> </span><span style=color:#0550ae>%</span><span style=color:#fff> </span>4<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : la taille du fichier n’est pas un multiple de 4 octets.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>MappedByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>canal<span style=color:#1f2328>.</span><span style=color:#1f2328>map</span><span style=color:#1f2328>(</span>FileChannel<span style=color:#1f2328>.</span><span style=color:#1f2328>MapMode</span><span style=color:#1f2328>.</span><span style=color:#1f2328>READ_ONLY</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>0<span style=color:#1f2328>,</span><span style=color:#fff> </span>taille<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>somme<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>while</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>hasRemaining</span><span style=color:#1f2328>())</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>somme<span style=color:#fff> </span><span style=color:#0550ae>+=</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>getInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Somme des entiers : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>somme<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme utilise le mappage en mémoire via <code>FileChannel</code> et <code>MappedByteBuffer</code> pour lire un fichier binaire contenant des entiers (4 octets chacun). Le fichier est ouvert avec <code>FileChannel.open</code> en mode lecture, et sa taille est vérifiée pour s’assurer qu’elle est un multiple de 4 octets, garantissant des données valides. La méthode <code>map</code> crée un <code>MappedByteBuffer</code> qui mappe le contenu du fichier directement en mémoire, permettant un accès rapide aux données. La somme des entiers est calculée en lisant chaque entier avec <code>getInt</code> jusqu’à ce que le buffer soit épuisé. L’utilisation de <code>try-with-resources</code> assure la fermeture du canal, et la gestion des exceptions avec <code>IOException</code> garantit la robustesse. Cette approche est particulièrement efficace pour les fichiers volumineux, car le mappage en mémoire réduit les accès disque en déléguant la gestion des données au système d’exploitation.</p></details><h2 id=question-27>Question 27
<a class=anchor href=#question-27>#</a></h2><p>Écrivez un programme Java qui écrit une séquence de 5 entiers (par exemple, 1 à 5) dans un fichier binaire en utilisant explicitement l’ordre big-endian, puis lit ce fichier en supposant un ordre little-endian pour démontrer l’impact du boutisme incorrect. Affichez les valeurs lues et expliquez pourquoi elles diffèrent des valeurs originales.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteOrder</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>BoutismeEcritureLecture</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;entiers.bin&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#57606a>// Écriture en big-endian</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>DataOutputStream<span style=color:#fff> </span>sortie<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DataOutputStream<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileOutputStream<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>)))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>1<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;=</span><span style=color:#fff> </span>5<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>sortie<span style=color:#1f2328>.</span><span style=color:#1f2328>writeInt</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>);</span><span style=color:#fff> </span><span style=color:#57606a>// DataOutputStream utilise big-endian par défaut</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Écriture des entiers 1 à 5 en big-endian terminée.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de l’écriture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#57606a>// Lecture en supposant little-endian</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>FileInputStream<span style=color:#fff> </span>entree<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileInputStream<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Lecture en supposant little-endian :&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>byte</span><span style=color:#0550ae>[]</span><span style=color:#fff> </span>octets<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span><span style=color:#cf222e>byte</span><span style=color:#0550ae>[</span>4<span style=color:#0550ae>]</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>5<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>entree<span style=color:#1f2328>.</span><span style=color:#1f2328>read</span><span style=color:#1f2328>(</span>octets<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span>4<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : données insuffisantes.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>wrap</span><span style=color:#1f2328>(</span>octets<span style=color:#1f2328>).</span><span style=color:#1f2328>order</span><span style=color:#1f2328>(</span>ByteOrder<span style=color:#1f2328>.</span><span style=color:#1f2328>LITTLE_ENDIAN</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>valeur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>getInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entier lu : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>valeur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme illustre l’impact du boutisme sur la manipulation des données binaires. Dans la phase d’écriture, <code>DataOutputStream</code> utilise par défaut l’ordre big-endian pour écrire les entiers de 1 à 5 dans un fichier binaire, où chaque entier occupe 4 octets (par exemple, l’entier 1 est écrit comme <code>00 00 00 01</code>). Lors de la lecture, le programme lit chaque bloc de 4 octets et utilise <code>ByteBuffer</code> avec <code>ByteOrder.LITTLE_ENDIAN</code> pour interpréter les octets dans l’ordre inverse (par exemple, <code>00 00 00 01</code> devient <code>01 00 00 00</code>, soit 16 777 216). Les valeurs affichées diffèrent donc fortement des originales (par exemple, 1 devient 16 777 216) en raison de l’inversion des octets. Cette erreur montre l’importance de respecter le même ordre de boutisme lors de l’écriture et de la lecture des données binaires. La gestion des exceptions avec <code>IOException</code> et la vérification du nombre d’octets lus garantissent la robustesse du programme.</p></details><h2 id=question-28>Question 28
<a class=anchor href=#question-28>#</a></h2><p>Écrivez un programme Java qui lit un fichier binaire contenant une séquence d’entiers (4 octets chacun) et permet à l’utilisateur de choisir l’ordre de boutisme (big-endian ou little-endian) pour interpréter les données. Le programme affiche les entiers lus selon l’ordre choisi et indique si la taille du fichier est valide pour des entiers.</p><details><summary>Réponse</summary><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteBuffer</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.nio.ByteOrder</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.util.Scanner</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>ChoixBoutisme</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Scanner<span style=color:#fff> </span>scanner<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>Scanner<span style=color:#1f2328>(</span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>in</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entrez le nom du fichier binaire : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>nomFichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>print</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Choisissez l’ordre de boutisme (big/little) : &#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>ordre<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>scanner<span style=color:#1f2328>.</span><span style=color:#1f2328>nextLine</span><span style=color:#1f2328>().</span><span style=color:#1f2328>toLowerCase</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>ByteOrder<span style=color:#fff> </span>byteOrder<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ordre<span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;little&#34;</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>?</span><span style=color:#fff> </span>ByteOrder<span style=color:#1f2328>.</span><span style=color:#1f2328>LITTLE_ENDIAN</span><span style=color:#fff> </span><span style=color:#1f2328>:</span><span style=color:#fff> </span>ByteOrder<span style=color:#1f2328>.</span><span style=color:#1f2328>BIG_ENDIAN</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>try</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>RandomAccessFile<span style=color:#fff> </span>fichier<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>RandomAccessFile<span style=color:#1f2328>(</span>nomFichier<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;r&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>long</span><span style=color:#fff> </span>taille<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>fichier<span style=color:#1f2328>.</span><span style=color:#1f2328>length</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>taille<span style=color:#fff> </span><span style=color:#0550ae>%</span><span style=color:#fff> </span>4<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span>0<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur : la taille du fichier n’est pas un multiple de 4 octets.&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>return</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entiers lus en &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>ordre<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;-endian :&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>byte</span><span style=color:#0550ae>[]</span><span style=color:#fff> </span>octets<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span><span style=color:#cf222e>byte</span><span style=color:#0550ae>[</span>4<span style=color:#0550ae>]</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>taille<span style=color:#fff> </span><span style=color:#0550ae>/</span><span style=color:#fff> </span>4<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>fichier<span style=color:#1f2328>.</span><span style=color:#1f2328>readFully</span><span style=color:#1f2328>(</span>octets<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>ByteBuffer<span style=color:#fff> </span>buffer<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>ByteBuffer<span style=color:#1f2328>.</span><span style=color:#1f2328>wrap</span><span style=color:#1f2328>(</span>octets<span style=color:#1f2328>).</span><span style=color:#1f2328>order</span><span style=color:#1f2328>(</span>byteOrder<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>valeur<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>buffer<span style=color:#1f2328>.</span><span style=color:#1f2328>getInt</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Entier &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>i<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>1<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34; : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>valeur<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff> </span><span style=color:#cf222e>catch</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>IOException<span style=color:#fff> </span>e<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>err</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;Erreur lors de la lecture : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getMessage</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Ce programme permet à l’utilisateur de spécifier l’ordre de boutisme pour lire un fichier binaire contenant des entiers (4 octets chacun). Il utilise <code>RandomAccessFile</code> pour lire les blocs de 4 octets et <code>ByteBuffer</code> pour interpréter ces octets selon l’ordre choisi (<code>ByteOrder.BIG_ENDIAN</code> ou <code>ByteOrder.LITTLE_ENDIAN</code>). La taille du fichier est vérifiée pour s’assurer qu’elle est un multiple de 4 octets, garantissant des données valides. Chaque entier est lu en lisant 4 octets dans un tableau, puis interprété avec <code>ByteBuffer</code> configuré avec l’ordre de boutisme sélectionné. Les valeurs sont affichées avec leur position. La gestion des exceptions avec <code>IOException</code> et l’utilisation de <code>try-with-resources</code> assurent une exécution robuste. Ce programme met en évidence l’importance de connaître l’ordre de boutisme des données binaires pour une lecture correcte, car un mauvais choix peut produire des valeurs erronées (par exemple, 1 en big-endian devient 16 777 216 en little-endian).</p></details></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><a href=/inf1220-hugo/docs/modules/module4/activite-4-2/ class="flex align-center float-left book-icon"><img src=/inf1220-hugo/svg/backward.svg alt=Previous title="Les flux de données: lecture dans des fichiers et autres">
<span>Les flux de données: lecture dans des fichiers et autres</span>
</a><a href=/inf1220-hugo/docs/modules/module4/web/ class="flex align-center float-right book-icon"><span>Développement web</span>
<img src=/inf1220-hugo/svg/forward.svg alt=Next title="Développement web"></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#questionsréponses>Questions/réponses</a></li><li><a href=#réponses-uniques->Réponses uniques ?</a></li><li><a href=#question-1>Question 1</a></li><li><a href=#question-2>Question 2</a></li><li><a href=#question-3>Question 3</a></li><li><a href=#question-4>Question 4</a></li><li><a href=#question-5>Question 5</a></li><li><a href=#question-6>Question 6</a></li><li><a href=#question-7>Question 7</a></li><li><a href=#question-8>Question 8</a></li><li><a href=#question-9>Question 9</a></li><li><a href=#question-10>Question 10</a></li><li><a href=#question-11>Question 11</a></li><li><a href=#question-y>Question Y</a></li><li><a href=#question-12>Question 12</a></li><li><a href=#question-13>Question 13</a></li><li><a href=#question-14>Question 14</a></li><li><a href=#question-15>Question 15</a></li><li><a href=#question-16>Question 16</a></li><li><a href=#question-17>Question 17</a></li><li><a href=#question-18>Question 18</a></li><li><a href=#question-19>Question 19</a></li><li><a href=#question-20>Question 20</a></li><li><a href=#question-21>Question 21</a></li><li><a href=#question-22>Question 22</a></li><li><a href=#question-23>Question 23</a></li><li><a href=#question-24>Question 24</a></li><li><a href=#question-25>Question 25</a></li><li><a href=#question-26>Question 26</a></li><li><a href=#question-27>Question 27</a></li><li><a href=#question-28>Question 28</a></li></ul></nav></div></aside></main></body></html>